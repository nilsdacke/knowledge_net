<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Step 2: Simple knowledge bases &mdash; Knowledge Network 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=2709fde1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Step 2, continued" href="tutorial_2b.html" />
    <link rel="prev" title="Step 1: Setting up the environment" href="tutorial_1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Knowledge Network
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">The KnowledgeNet framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="serving.html">Serving a knowledge base</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowledgebase.html">Creating a knowledge base</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat_history.html">Chat history</a></li>
<li class="toctree-l1"><a class="reference internal" href="calling.html">Calling knowledge bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="local_and_remote.html">Local and remote knowledge bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="instantiation.html">More on knowledge base instantiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocols.html">Communication protocols</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_1.html">Step 1: Setting up the environment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Step 2: Simple knowledge bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_2b.html">Step 2, continued</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_3.html">Step 3: A knowledge network</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_3b.html">Step 3, continued</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_4.html">Step 4: Build your own</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Knowledge Network</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Step 2: Simple knowledge bases</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorial_2.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="step-2-simple-knowledge-bases">
<span id="tutorial-2"></span><h1>Step 2: Simple knowledge bases<a class="headerlink" href="#step-2-simple-knowledge-bases" title="Link to this heading"></a></h1>
<p>Let’s create our first conversational knowledge base! The process for doing this starts with preparing text documents
containing the knowledge we want to share and storing chunks of the documents into a vector database.</p>
<p>The KnowledgeNet framework comes with example documents that we can use. The texts are books by nineteenth century
scientists Charles Darwin, Francis Galton and Charles Babbage, from Project Gutenberg. We have
removed the front and back matter from the books, keeping only the main text.</p>
<p>To create a vector data base with computer pioneer Charles Babbage’s writings, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>build_database.py<span class="w"> </span>examples/documents/babbage/<span class="w"> </span>db/babbage
</pre></div>
</div>
<p>To make the knowledge base available to the world, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>http_server_rag.py<span class="w"> </span>babbage<span class="w"> </span><span class="s2">&quot;Charles Babbage&quot;</span><span class="w"> </span>db/babbage<span class="w"> </span>examples/meta/victorian-science-sources.json<span class="w"> </span><span class="m">8001</span><span class="p">&amp;</span>
</pre></div>
</div>
<p>Our Charles Babbage knowledge base is now served over HTTP! How do we talk to it? Run this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>streamlit<span class="w"> </span>run<span class="w"> </span>streamlit_ui.py<span class="w"> </span>--<span class="w"> </span>babbage<span class="w"> </span>http://localhost:8001
</pre></div>
</div>
<p>A chat page should appear in your browser. We can now have a conversation about Babbage’s life and work.
Try for example, “Tell me about the analytical engine.”</p>
<p>We will soon take a peek under the hood to better understand what we did. But first, let’s create and launch two
additional knowledge bases, about Charles Darwin and Francis Galton.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>build_database.py<span class="w"> </span>examples/documents/darwin/<span class="w"> </span>db/darwin
$<span class="w"> </span>python<span class="w"> </span>build_database.py<span class="w"> </span>examples/documents/galton/<span class="w"> </span>db/galton
$
$<span class="w"> </span>python<span class="w"> </span>http_server_rag.py<span class="w"> </span>darwin<span class="w"> </span><span class="s2">&quot;Charles Darwin&quot;</span><span class="w"> </span>db/darwin<span class="w"> </span>examples/meta/victorian-science-sources.json<span class="w"> </span><span class="m">8002</span><span class="p">&amp;</span>
$<span class="w"> </span>python<span class="w"> </span>http_server_rag.py<span class="w"> </span>galton<span class="w"> </span><span class="s2">&quot;Francis Galton&quot;</span><span class="w"> </span>db/galton<span class="w"> </span>examples/meta/victorian-science-sources.json<span class="w"> </span><span class="m">8003</span><span class="p">&amp;</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial_1.html" class="btn btn-neutral float-left" title="Step 1: Setting up the environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial_2b.html" class="btn btn-neutral float-right" title="Step 2, continued" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Simon Andersson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>